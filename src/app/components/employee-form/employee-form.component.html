<form [formGroup]="formGroup">
    <div class="flex flex-col p-6">
        <div class="text-xl mb-4">{{ mode | titlecase }} Employee</div>
        <div>
            <label class="required">Username</label>
            <mat-form-field class="w-full" appearance="outline">
                <input type="text" matInput formControlName="username" placeholder="Enter the username">
                <mat-error *ngIf="formGroup.get('username')?.hasError('required') && formGroup.get('username')?.touched">
                    Username is required.
                </mat-error>
            </mat-form-field>
        </div>
        <div class="flex justify-between gap-4">
            <div class="w-full">
                <label class="required">First Name</label>
                <mat-form-field class="w-full" appearance="outline">
                    <input type="text" matInput formControlName="firstName" placeholder="Enter the first name">
                    <mat-error *ngIf="formGroup.get('firstName')?.hasError('required') && formGroup.get('firstName')?.touched">
                        First Name is required.
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="w-full">
                <label class="required">Last Name</label>
                <mat-form-field class="w-full" appearance="outline">
                    <input type="text" matInput formControlName="lastName" placeholder="Enter the last name">
                    <mat-error *ngIf="formGroup.get('lastName')?.hasError('required') && formGroup.get('lastName')?.touched">
                        Last Name is required.
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="flex justify-between gap-4">
            <div class="w-full">
                <label class="required">Email</label>
                <mat-form-field class="w-full" appearance="outline">
                    <input type="text" matInput formControlName="email" placeholder="Enter the email">
                    <mat-error *ngIf="formGroup.get('email')?.hasError('required') && formGroup.get('email')?.touched">
                        Email is required.
                    </mat-error>
                    <mat-error *ngIf="formGroup.get('email')?.hasError('email') && formGroup.get('email')?.touched">
                        Email is invalid.
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="w-full">
                <label class="required">Birth Date</label>
                <mat-form-field class="w-full" appearance="outline">
                    <input matInput readonly [max]="today" [placeholder]="'dd/mm/yyyy'" [value]="birthDate" [matDatepicker]="pickerBirthDate" (dateChange)="handleDateChange($event.value)"/>
                  <mat-datepicker-toggle matIconSuffix [for]="pickerBirthDate"></mat-datepicker-toggle>
                  <mat-datepicker #pickerBirthDate></mat-datepicker>
                </mat-form-field>
            </div>
        </div>
        <div class="flex justify-between gap-4">
            <div class="w-full">
                <label class="required">Group</label>
                <ng-select
                    [items]="groupOptions"
                    [clearable]="false"
                    placeholder="--Choose Group--" 
                    formControlName="group"
                ></ng-select>
                <mat-error *ngIf="formGroup.get('group')?.hasError('required') && formGroup.get('group')?.touched">
                    Group is required.
                </mat-error>
            </div>
            <div class="w-full">
                <label class="required">Baic Salary</label>
                <mat-form-field class="w-full" appearance="outline">
                    <input type="number" matInput formControlName="basicSalary" placeholder="Enter the basic salary">
                    <mat-error *ngIf="formGroup.get('basicSalary')?.hasError('required') && formGroup.get('email')?.touched">
                        Basic Salary is required.
                    </mat-error>
                    <mat-error *ngIf="formGroup.get('basicSalary')?.hasError('pattern') && formGroup.get('basicSalary')?.touched">
                        Basic salary should be a number.
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div>
            <label class="required">Description</label>
           <mat-form-field class="w-full" appearance="outline">
                <textarea matInput formControlName="description" placeholder="Enter the description"></textarea>
            </mat-form-field>
            <mat-error *ngIf="formGroup.get('description')?.hasError('required') && formGroup.get('description')?.touched">
                Description is required.
            </mat-error>
        </div>
        <div>
            <label class="required">Status</label>
            <mat-radio-group formControlName="status" class="ml-4">
                <mat-radio-button value="Not Active" class="mr-4">Not Active</mat-radio-button>
                <mat-radio-button value="Active">Active</mat-radio-button>
            </mat-radio-group>
        </div>
        <div class="flex gap-4 mt-4">
            <button type="cancel" class="w-[100px]" (click)="onCancel()" mat-stroked-button>
                Cancel
            </button>
            <button type="submit" class="w-[100px]" (click)="onSubmit()" [disabled]="formGroup.invalid" mat-flat-button>
                Save
            </button>
        </div>
    </div>
</form>